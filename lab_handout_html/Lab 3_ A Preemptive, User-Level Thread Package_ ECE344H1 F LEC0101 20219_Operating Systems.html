<!DOCTYPE html>
<html dir="ltr"   lang="en-CA">
<head>
  <meta charset="utf-8">
  <meta name="sentry-trace" content="5922d146375b4ca381648261481a0cf9-b4f0647f163b4789-0"/>
  <link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Regular-bd03a2cc27.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Bold-cccb897485.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/fonts/lato/extended/Lato-Italic-4eb103b4d1.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/fonts-6ee09b0b2f.css" media="screen" />
    <script>if (navigator.userAgent.match(/(MSIE|Trident\/)/)) location.replace('/ie-is-not-supported.html')</script>
  
  <link rel="icon" type="image/x-icon" href="https://du11hjcvx0uqb.cloudfront.net/dist/images/favicon-e10d657a73.ico" />
  <link rel="apple-touch-icon" href="https://du11hjcvx0uqb.cloudfront.net/dist/images/apple-touch-icon-585e5d997d.png" />
  <link rel="stylesheet" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/0976b3638d0604c8fdc3c2118e22f3cf/variables-7dd4b80918af0e0218ec0229e4bd5873.css" media="all" />
  <link rel="stylesheet" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/new_styles_normal_contrast/bundles/common-c5d9e08ec7.css" media="all" />
  <meta name="apple-itunes-app" content="app-id=480883488">
<link rel="manifest" href="/web-app-manifest/manifest.json">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#002a5c">
  <meta name="robots" content="noindex,nofollow" />
  <link rel="stylesheet" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/new_styles_normal_contrast/bundles/wiki_page-bb0c0c1f96.css" media="all" />
<link rel="stylesheet" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/new_styles_normal_contrast/bundles/new_user_tutorials-2950c871dd.css" media="all" />
  <link rel="stylesheet" href="https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/434590/uoft-new.css" media="all" />


  <script>
    INST = {"environment":"production","allowMediaComments":true,"kalturaSettings":{"domain":"yul.nv.instructuremedia.com","resource_domain":"yul.nv.instructuremedia.com","rtmp_domain":"yul.rtmp.instructuremedia.com","partner_id":7,"subpartner_id":0,"player_ui_conf":0,"kcw_ui_conf":0,"upload_ui_conf":0,"max_file_size_bytes":534773760,"js_uploader":"yes"},"disableGooglePreviews":true,"logPageViews":true,"editorButtons":[{"name":"YouTube","id":50,"favorite":false,"url":"https://www.edu-apps.org/lti_public_resources/?tool_id=youtube","icon_url":"https://www.edu-apps.org/assets/lti_public_resources/youtube_icon.png","canvas_icon_class":null,"width":560,"height":600,"use_tray":false,"description":"\u003cp\u003eSearch publicly available YouTube videos. A new icon will show up in your course rich editor letting you search YouTube and click to embed videos in your course material.\u003c/p\u003e\n"},{"name":"O365 OneDrive","id":5716,"favorite":true,"url":"https://office365-yul-prod.instructure.com/lti/rce-content-item","icon_url":"https://office365-yul-prod.instructure.com/images/office365_icon.png","canvas_icon_class":null,"width":900,"height":600,"use_tray":false,"description":"\u003cp\u003eAllows you to pull in documents from Office 365 OneDrive to Canvas\u003c/p\u003e\n"},{"name":"Insert a Wiley Resource","id":14754,"favorite":false,"url":"https://lti.education.wiley.com/wpng/api/v1/lti/resourcediscoverytool","icon_url":"https://education.wiley.com/assets/images/wp.svg","canvas_icon_class":null,"width":1160,"height":660,"use_tray":false,"description":"\u003cp\u003eOutcomes-based learning.\u003c/p\u003e\n"},{"name":"Import citations","id":17413,"favorite":false,"url":"https://utoronto.alma.exlibrisgroup.com/lti/v3/launch/01UTORONTO_INST/LMS_CANVAS_1","icon_url":"https://utoronto.alma.exlibrisgroup.com/lti/images/editor-btn.png","canvas_icon_class":null,"width":900,"height":650,"use_tray":false,"description":"\u003cp\u003eLibrary Reading List\u003c/p\u003e\n"}]};
    ENV = {"ASSET_HOST":"https://du11hjcvx0uqb.cloudfront.net","active_brand_config_json_url":"https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/0976b3638d0604c8fdc3c2118e22f3cf/variables-7dd4b80918af0e0218ec0229e4bd5873.json","active_brand_config":{"md5":"0976b3638d0604c8fdc3c2118e22f3cf","variables":{"ic-brand-primary":"#002a5c","ic-brand-global-nav-bgd":"#002a5c","ic-brand-global-nav-menu-item__badge-bgd":"#008ee2","ic-brand-global-nav-logo-bgd":"#002a5c","ic-brand-header-image":"https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/113470/tree%20logo.png","ic-brand-watermark-opacity":"1","ic-brand-msapplication-tile-wide":"https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/113471/tree%20logo.png","ic-brand-right-sidebar-logo":"https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/113518/20171219_Quercus-01.png"},"share":false,"name":null,"created_at":"2023-02-06T13:41:17-05:00","js_overrides":"https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/24721051/UT_CustomJS_20210412-PRD-GTM.js","css_overrides":"https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/434590/uoft-new.css","mobile_js_overrides":"","mobile_css_overrides":"","parent_md5":null},"confetti_branding_enabled":false,"url_to_what_gets_loaded_inside_the_tinymce_editor_css":["https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/0976b3638d0604c8fdc3c2118e22f3cf/variables-7dd4b80918af0e0218ec0229e4bd5873.css","https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/new_styles_normal_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-a64c7fe33c.css","https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/fonts-6ee09b0b2f.css"],"url_for_high_contrast_tinymce_editor_css":["https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/default/variables-high_contrast-7dd4b80918af0e0218ec0229e4bd5873.css","https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/new_styles_high_contrast/bundles/what_gets_loaded_inside_the_tinymce_editor-fa0672d544.css","https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/no_variables/bundles/fonts-6ee09b0b2f.css"],"current_user_id":"287772","current_user_global_id":"118340000000287772","current_user_heap_id":"uu-2-2c939087a86180dd981cdb601a812aaabef8de0caa5cb2a53c2a39d778d64303-dsWzekD5khhODOqBAcRfXKcKKo0XpVhgmkX973K4","current_user_roles":["user","student","teacher"],"current_user_is_student":false,"current_user_types":[],"current_user_disabled_inbox":false,"current_user_visited_tabs":null,"discussions_reporting":false,"files_domain":"cluster75.canvas-user-content.com","group_information":null,"DOMAIN_ROOT_ACCOUNT_ID":"118340000000000001","DOMAIN_ROOT_ACCOUNT_UUID":"dsWzekD5khhODOqBAcRfXKcKKo0XpVhgmkX973K4","k12":false,"help_link_name":"Help","help_link_icon":"help","use_high_contrast":false,"auto_show_cc":false,"disable_celebrations":false,"disable_keyboard_shortcuts":false,"LTI_LAUNCH_FRAME_ALLOWANCES":["geolocation *","microphone *","camera *","midi *","encrypted-media *","autoplay *","clipboard-write *","display-capture *"],"DEEP_LINKING_POST_MESSAGE_ORIGIN":"https://q.utoronto.ca","DEEP_LINKING_LOGGING":null,"comment_library_suggestions_enabled":false,"SETTINGS":{"open_registration":false,"collapse_global_nav":false,"release_notes_badge_disabled":false},"FULL_STORY_ENABLED":false,"RAILS_ENVIRONMENT":"Production","IN_PACED_COURSE":false,"SENTRY_FRONTEND":{"dsn":"https://355a1d96717e4038ac25aa852fa79a8f@relay-yul.sentry.insops.net/388","org_slug":"instructure","base_url":"https://sentry.insops.net","normalized_route":"/courses/{course_id}/pages/{id}","errors_sample_rate":"0.0005","traces_sample_rate":"0.0005","url_deny_pattern":"instructure-uploads.*amazonaws.com","revision":"canvas-lms@20231025.250"},"DATA_COLLECTION_ENDPOINT":"https://canvas-frontend-data-yul-prod.inscloudgate.net/submit","DOMAIN_ROOT_ACCOUNT_SFID":"001A000000YLIoa","DIRECT_SHARE_ENABLED":false,"CAN_VIEW_CONTENT_SHARES":true,"FEATURES":{"featured_help_links":true,"lti_platform_storage":true,"calendar_series":true,"account_level_blackout_dates":false,"render_both_to_do_lists":false,"course_paces_redesign":true,"course_paces_for_students":true,"module_publish_menu":true,"explicit_latex_typesetting":false,"dev_key_oidc_alert":true,"media_links_use_attachment_id":false,"permanent_page_links":true,"differentiated_modules":false,"enhanced_course_creation_account_fetching":false,"instui_for_import_page":false,"product_tours":false,"usage_rights_discussion_topics":true,"granular_permissions_manage_users":true,"create_course_subaccount_picker":true,"lti_deep_linking_module_index_menu_modal":true,"lti_multiple_assignment_deep_linking":true,"lti_overwrite_user_url_input_select_content_dialog":true,"buttons_and_icons_root_account":true,"extended_submission_state":false,"scheduled_page_publication":true,"send_usage_metrics":false,"rce_transform_loaded_content":false,"lti_assignment_page_line_items":true,"mobile_offline_mode":false,"react_discussions_post":false,"instui_nav":false,"embedded_release_notes":false,"canvas_k6_theme":false,"new_math_equation_handling":true},"current_user":{"id":"287772","anonymous_id":"661o","display_name":"Yuhe Chen","avatar_image_url":"https://q.utoronto.ca/images/thumbnails/24252802/49w46JOhPyJJXYU3xUiBG9eUG1LciFpubMN3YR4t","html_url":"https://q.utoronto.ca/about/287772","pronouns":null,"avatar_is_fallback":false},"page_view_update_url":"/page_views/82ffed36-6a63-4899-b6f4-84a27290a8ba?page_view_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpIjoiODJmZmVkMzYtNmE2My00ODk5LWI2ZjQtODRhMjcyOTBhOGJhIiwidSI6MTE4MzQwMDAwMDAwMjg3NzcyLCJjIjoiMjAyMy0xMC0yOVQwNDowNzowMS45MloifQ.Tb5BqLaD1lUDeVRLrOkNgSvWVGgjiOxstGckra-M1tk","context_asset_string":"course_238659","ping_url":"https://q.utoronto.ca/api/v1/courses/238659/ping","TIMEZONE":"America/New_York","CONTEXT_TIMEZONE":"America/New_York","LOCALES":["en-CA","en"],"BIGEASY_LOCALE":"en_CA","FULLCALENDAR_LOCALE":"en-ca","MOMENT_LOCALE":"en-ca","rce_auto_save_max_age_ms":86400000,"K5_USER":false,"USE_CLASSIC_FONT":false,"K5_HOMEROOM_COURSE":false,"K5_SUBJECT_COURSE":false,"LOCALE_TRANSLATION_FILE":"/dist/javascripts/translations/en-CA-6065eb10af.json","ACCOUNT_ID":"28","user_cache_key":"a0ppbnI1SDJUVkVlOGdJSHdtWDh2VExxOXVGTlE5TEpVRjZKempwMHZ5Zlc9\nO1twLTA/OntQXz1IVXBncmFxZTtuamFsa2hwdm9pdWxraW1tYXFld2c=\n","WIKI_RIGHTS":{"read":true},"PAGE_RIGHTS":{"read":true},"DEFAULT_EDITING_ROLES":"teachers","WIKI_PAGES_PATH":"/courses/238659/pages","WIKI_PAGE":{"title":"Lab 3: A Preemptive, User-Level Thread Package","created_at":"2021-08-12T10:16:31-04:00","url":"lab-3-a-preemptive-user-level-thread-package","editing_roles":"teachers","page_id":"862358","last_edited_by":{"id":"64820","anonymous_id":"1e0k","display_name":"Michael Stumm","avatar_image_url":"https://q.utoronto.ca/images/messages/avatar-50.png","html_url":"https://q.utoronto.ca/courses/238659/users/64820","pronouns":null},"published":true,"hide_from_students":false,"front_page":false,"html_url":"https://q.utoronto.ca/courses/238659/pages/lab-3-a-preemptive-user-level-thread-package","todo_date":null,"publish_at":null,"updated_at":"2021-10-12T14:17:08-04:00","locked_for_user":false,"body":"\u003cp\u003e\u003cstrong\u003eQuick Links: \u0026nbsp; \u003c/strong\u003e\u0026nbsp;\u003ca title=\"Syllabus\" href=\"https://q.utoronto.ca/courses/238659/assignments/syllabus\"\u003eHome\u003c/a\u003e \u0026nbsp;\u0026nbsp; \u0026nbsp;\u0026nbsp;\u003ca class=\"instructure_file_link inline_disabled\" href=\"https://q.utoronto.ca/courses/238659/pages/lecture-material\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/lecture-material\" data-api-returntype=\"Page\"\u003eLecture material\u003c/a\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003ca title=\"Lab Assignments\" href=\"https://q.utoronto.ca/courses/238659/pages/lab-assignments\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/lab-assignments\" data-api-returntype=\"Page\"\u003eLab assignments\u003c/a\u003e \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003ca class=\"instructure_file_link inline_disabled external\" href=\"https://piazza.com/utoronto.ca/winter2021/ece353/home\" target=\"_blank\"\u003e\u003cspan\u003ePiazza Discussion\u003c/span\u003e\u003cspan class=\"screenreader-only\"\u003e\u0026nbsp;(Links to an external site.)\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch4\u003e\u003cstrong\u003eDue Date: October 29, 11:59pm EST\u003c/strong\u003e\u003c/h4\u003e\n\u003cp\u003eIn the previous lab, you implemented a cooperative, user-level thread package system in which \u003ckbd\u003ethread_yield\u003c/kbd\u003e causes control to be passed from one thread to the next one. This lab has four goals.\u003c/p\u003e\n\u003cp\u003eFirst, you will implement preemptive threading, in which simulated \"timer interrupts\" cause the system to switch from one thread to another.\u003c/p\u003e\n\u003cp\u003eSecond, you will implement the \u003ckbd\u003ethread_sleep\u003c/kbd\u003e and \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e scheduling functions. These functions will enable implementing \u003cstrong\u003eblocking\u003c/strong\u003e mutual exclusion and synchronization.\u003c/p\u003e\n\u003cp\u003eThird, you will use the \u003ckbd\u003ethread_sleep\u003c/kbd\u003e and \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e functions to implement \u003ckbd\u003ethread_wait\u003c/kbd\u003e, which will block a thread until a target thread has finished executing.\u003c/p\u003e\n\u003cp\u003eFinally, you will implement blocking locks for mutual exclusion, and condition variables for synchronization.\u003c/p\u003e\n\u003cp\u003eFor this lab, we are not providing any additional code. You will be working with the code you have implemented in the \u003ckbd\u003ethreads\u003c/kbd\u003e directory in Lab 2.\u003c/p\u003e\n\u003ch2\u003eTimer Signals\u003c/h2\u003e\n\u003cp\u003eUser-level code cannot use hardware timer interrupts directly. Instead, POSIX operating systems provide a software mechanism called \u003ci\u003esignals\u003c/i\u003e that can be used to simulate \"interrupts\" at the user level. These signals interrupt your program and give you a chance to handle that interrupt. For example, when you hit \u003ckbd\u003eCtrl-C\u003c/kbd\u003e to kill a program, that causes the OS to send the SIGINT signal to your program. Most programs don't handle this signal, so by default, the OS kills the process. However, if you wanted to save the state of your program before it was killed (e.g., a text editor could save any unsaved files), you can register a handler with the OS for SIGINT. Then when the user hits \u003ckbd\u003eCtrl-C\u003c/kbd\u003e, the OS calls your handler, you could write out the state of your program, and then exit.\u003c/p\u003e\n\u003cp\u003eMore generally, signals are a form of asynchronous, inter-process communication mechanism. A signal can be sent from one process to another, or from a process to itself. We will use the \u003cstrong\u003elatter\u003c/strong\u003e method to have the process that invokes your user-level scheduler, i.e., your thread library functions, deliver timer signals to itself.\u003c/p\u003e\n\u003cp\u003eThe operating system delivers a signal to a target (recipient) process by interrupting the normal flow of execution of the process. Execution can be interrupted after any instruction. A process can register a signal handler, which is invoked when the signal is delivered. After the signal handler finishes executing, the normal flow of execution of the process is resumed. Notice the similarities between signals and hardware interrupts.\u003c/p\u003e\n\u003cp\u003eAs signals can be delivered after any instruction, signal handling is prone to race conditions. For example, if you increment a counter (\u003ckbd\u003ecounter = counter + 1\u003c/kbd\u003e) during normal execution as well as in your signal handler code, the increment operation may not work correctly because it is not atomic, and the signal may be delivered in between the instructions implementing the increment operation. To avoid this problem, you should disable signal delivery while the counter is being updated.\u003c/p\u003e\n\u003cp\u003ePlease read a \u003ca href=\"http://en.wikipedia.org/wiki/Unix_signal\"\u003eshort introduction to signals\u003c/a\u003e to understand how they work in more detail. Make sure to read the \"Risks\" section or else you may not able to answer some questions below.\u003c/p\u003e\n\u003cp\u003eNow go over the code in the files \u003ckbd\u003einterrupt.h\u003c/kbd\u003e and \u003ckbd\u003einterrupt.c\u003c/kbd\u003e. You do not need to understand all the code, but it will be helpful to know how the code should be used. We will use the terms \"interrupts\" and \"signals\" interchangeably below.\u003c/p\u003e\n\u003cdl\u003e\n\u003cdt\u003e\u003cstrong\u003evoid register_interrupt_handler(int verbose):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis call installs a timer signal handler in the calling program using the \u003ca href=\"http://linux.die.net/man/2/sigaction\"\u003e\u003ckbd\u003esigaction\u003c/kbd\u003e\u003c/a\u003e system call. When a timer signal fires, the function \u003ckbd\u003einterrupt_handler\u003c/kbd\u003e in the \u003ckbd\u003einterrupt.c\u003c/kbd\u003e file is invoked. With the \u003ckbd\u003everbose\u003c/kbd\u003e flag, a message is printed when the handler function runs.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003eint interrupts_set(int enabled):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function enables timer signals when enabled is 1, and disables (or blocks) them when enabled is 0. We call the current enabled or disabled state of the signal the \u003ci\u003esignal state\u003c/i\u003e. This function also returns whether the signals were previously enabled or not (i.e., the previous signal state). Notice that the operating system ensures that these two operations (reading previous state, and updating it) are performed atomically when the \u003ca href=\"http://linux.die.net/man/2/sigprocmask\"\u003e\u003ckbd\u003esigprocmask\u003c/kbd\u003e\u003c/a\u003e system call is issued. Your code should use this function to disable signals when running any code that is a \u003ca href=\"http://en.wikipedia.org/wiki/Critical_section\"\u003e\u003ci\u003ecritical section\u003c/i\u003e\u003c/a\u003e (i.e., code that accesses data that is shared by multiple threads).\u003cbr\u003e\u003cbr\u003eWhy does this function return the previous signal state? The reason is that it allows \"stacking\" calls to this function. The typical usage of this function is as follows:\n\u003cpre\u003efn() {\n    /* disable signals, store the previous signal state in \"enabled\" */  \n    int enabled = interrupts_set(0);\n    /* critical section */\n    interrupts_set(enabled);\n}\n\u003c/pre\u003e\nThe first call to \u003ckbd\u003einterrupts_set\u003c/kbd\u003e disables signals. The second call restores the signal state to its previous state, i.e., the signal state before the first call to \u003ckbd\u003einterrupts_set\u003c/kbd\u003e, rather than unconditionally enabling signals. This is useful because the caller of the function \u003ckbd\u003efn\u003c/kbd\u003e may be expecting signals to remain disabled after the function \u003ckbd\u003efn\u003c/kbd\u003e finishes executing. For example:\n\u003cpre\u003efn_caller() {\n    int enabled = interrupts_set(0);\n    /* begin critical section */\n    fn();\n    /* code expects signals are still disabled */\n    ...\n    /* end critical section */\n    interrupts_set(enabled);\n}\n\u003c/pre\u003e\nNotice how signal disabling and enabling is performed in \"stack\" order, so that the signal state remains disabled after \u003ckbd\u003efn\u003c/kbd\u003e returns.\u003cbr\u003e\u003cbr\u003eThe functions \u003ckbd\u003einterrupts_on\u003c/kbd\u003e and \u003ckbd\u003einterrupts_off\u003c/kbd\u003e are simple wrappers for the \u003ckbd\u003einterrupt_set\u003c/kbd\u003e function.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003eint interrupts_enabled():\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function returns whether signals are enabled or disabled currently. You can use this function to check (i.e., assert) whether your assumptions about the signal state are correct.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid interrupts_quiet():\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function turns off printing signal handler messages.\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eTo help you understand how this code works, we have provided you the \u003ckbd\u003eshow_handler\u003c/kbd\u003e program. Look at the \u003ckbd\u003eshow_handler.c\u003c/kbd\u003e file and make sure you understand the output of the \u003ckbd\u003eshow_handler\u003c/kbd\u003e program.\u003c/p\u003e\n\u003ch2\u003eSetup\u003c/h2\u003e\n\u003cp\u003eYou will be doing this lab within the \u003ckbd\u003ethreads\u003c/kbd\u003e directory that you created in Lab 2. So make sure to go over the \u003ca href=\"https://www.eecg.utoronto.ca/~ashvin/courses/ece344/current/lab2.html#setup\"\u003esetup instructions\u003c/a\u003e for Lab 2, if you have not done so previously.\u003c/p\u003e\n\u003cp\u003eMake sure to commit all your previous changes (or discard any uncommitted changes) in your local repository, and then run the following commands to get started with this lab.\u003c/p\u003e\n\u003cpre\u003ecd ~/ece344\ngit tag Lab3-start\ncd threads\nmake\n\u003c/pre\u003e\n\u003ch2\u003ePreemptive Threading\u003c/h2\u003e\n\u003cp\u003eNow you are ready to implement preemptive threading using the timer signals described above. However, before you do so, make sure that you can answer the following questions before proceeding any further.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eWhat is the name of the signal that you will be using to implement preemptive threading?\u003c/li\u003e\n\u003cli\u003eWhich system call is used by the process to deliver signals to itself?\u003c/li\u003e\n\u003cli\u003eHow often is this signal delivered?\u003c/li\u003e\n\u003cli\u003eWhen this signal is delivered, which function in \u003ckbd\u003ethread.c\u003c/kbd\u003e is invoked? What would this function do when it is invoked in the \u003ckbd\u003eshow_handler\u003c/kbd\u003e program?\u003c/li\u003e\n\u003cli\u003eIs the signal state enabled or disabled when the function in \u003ckbd\u003ethread.c\u003c/kbd\u003e above is invoked? If the signal is enabled, could it cause problems? If the signal is disabled, what code will enable them? Hint: look for \u003ckbd\u003esa_mask\u003c/kbd\u003e in \u003ckbd\u003einterrupt.c\u003c/kbd\u003e.\u003c/li\u003e\n\u003cli\u003eWhat does \u003ckbd\u003eunintr_printf\u003c/kbd\u003e do? Why is it needed? Will you need other similar functions? Reread a \u003ca href=\"http://en.wikipedia.org/wiki/Unix_signal\"\u003eshort introduction to signals\u003c/a\u003e to find out.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eSignals can be sent to the process at any time, even when a thread is in the middle of a \u003ckbd\u003ethread_yield\u003c/kbd\u003e, \u003ckbd\u003ethread_create\u003c/kbd\u003e, or \u003ckbd\u003ethread_exit\u003c/kbd\u003e call. It is a very bad idea to allow multiple threads to access shared variables (such as your ready queue) at the same time. You should therefore ensure \u003ca href=\"http://en.wikipedia.org/wiki/Mutual_exclusion\"\u003e\u003ci\u003emutual exclusion\u003c/i\u003e\u003c/a\u003e, i.e., only one thread can be in a critical section (accessing the shared variables) in your thread library at a time.\u003c/p\u003e\n\u003cp\u003eA simple way to ensure mutual exclusion is to disable signals when you enter procedures of the thread library and restore the signal state when you leave.\u003c/p\u003e\n\u003cp\u003eHint: think carefully about the invariants you want to maintain in your thread functions about when signals are enabled and when they are disabled. Make sure to use the \u003ckbd\u003einterrupts_enabled\u0026nbsp;\u003c/kbd\u003efunction to check your assumptions.\u003c/p\u003e\n\u003cp\u003eNote that as a result of thread context switches, the thread that disables signals may not be the one enables them. In particular, recall that \u003ckbd\u003esetcontext\u003c/kbd\u003e \u003ca href=\"https://www.eecg.utoronto.ca/~ashvin/courses/ece344/current/lab2.html#context-switch\"\u003erestores the register state\u003c/a\u003e saved by \u003ckbd\u003egetcontext\u003c/kbd\u003e. The signal state is saved when \u003ckbd\u003egetcontext\u003c/kbd\u003e is called (recall the \u003ckbd\u003eshow_interrupt\u003c/kbd\u003e function in the \u003ckbd\u003eshow_ucontext.c\u003c/kbd\u003e file is Lab 2), and restored by \u003ckbd\u003esetcontext\u003c/kbd\u003e. As a result, if you would like your code to be running with a specific signal state (i.e., disabled or enabled) when \u003ckbd\u003esetcontext\u003c/kbd\u003e is called, make sure that \u003ckbd\u003egetcontext\u003c/kbd\u003e is called with the same signal state. Maintain the right invariants, and you'll have no trouble dealing with context switches.\u003c/p\u003e\n\u003cp\u003eIt will be helpful to go over the \u003ca href=\"http://linux.die.net/man/2/setcontext\"\u003emanual pages\u003c/a\u003e of the context save and restore calls again.\u003c/p\u003e\n\u003cp\u003eGo ahead and implement preemptive threading by adding signal disabling and enabling code in your thread library in \u003ckbd\u003ethread.c\u003c/kbd\u003e.\u003c/p\u003e\n\u003cp\u003eAfter you implement preemptive threading, you can test your code by running the \u003ckbd\u003etest_preemptive\u003c/kbd\u003e program. To check whether this program worked correctly, you can run the following tester script:\u003c/p\u003e\n\u003cpre\u003e    /cad2/ece344f/tester/scripts/lab3-01-preemptive.py\n\u003c/pre\u003e\n\u003cp\u003eThis script is run as part of testing Lab 3. Adding the \u003ckbd\u003e-v\u003c/kbd\u003e option to the script above will provide more information about what output is expected by the tester.\u003c/p\u003e\n\u003ch2\u003eSleep and Wakeup\u003c/h2\u003e\n\u003cp\u003eNow that you have implemented preemptive threading, you will extend your threading library to implement the \u003ckbd\u003ethread_sleep\u003c/kbd\u003e and \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e functions. These functions will allow implementing mutual exclusion and synchronization primitives. In real operating systems, these functions would also be used to suspend and wake up a thread that performs IO with slow devices, such as disks and networks. The \u003ckbd\u003ethread_sleep\u003c/kbd\u003e primitive blocks or suspends a thread when it is waiting on an event, such as a mutex lock becoming available or the arrival of a network packet. The \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e primitive awakens one or more threads that are waiting for the corresponding event.\u003c/p\u003e\n\u003cp\u003eThe \u003ckbd\u003ethread_sleep\u003c/kbd\u003e and \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e functions that you will be implementing for this lab are summarized here:\u003c/p\u003e\n\u003cdl\u003e\n\u003cdt\u003e\u003cstrong\u003eTid thread_sleep(struct wait_queue *queue):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function suspends the caller and then runs some other thread. The calling thread is put in a wait queue passed as a parameter to the function. The \u003ckbd\u003ewait_queue\u003c/kbd\u003e data structure is similar to the run queue, but there can be many wait queues in the system, one per type of event or condition. Upon success, this function returns the identifier of the thread that took control as a result of the function call. The calling thread does not see this result until it runs later. Upon failure, the calling thread continues running, and returns one of these constants:\n\u003cul\u003e\n\u003cli\u003e\u003ckbd\u003eTHREAD_INVALID:\u003c/kbd\u003e alerts the caller that the queue is invalid, e.g., it is NULL.\u003c/li\u003e\n\u003cli\u003e\u003ckbd\u003eTHREAD_NONE:\u003c/kbd\u003e alerts the caller that there are no more threads, other than the caller, that are ready to run. Note that if the thread were to sleep in this case, then your program would hang because there would be no runnable thread.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003eint thread_wakeup(struct wait_queue *queue, int all):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function wakes up one or more threads that are suspended in the wait queue. These threads are put in the ready queue. The calling thread continues to execute and receives the result of the call. When \"all\" is 0, then one thread is woken up. In this case, you should wake up threads in FIFO order, i.e., first thread to sleep must be woken up first. When \"all\" is 1, all suspended threads are woken up. The function returns the number of threads that were woken up. It should return zero if the queue is invalid, or there were no suspended threads in the wait queue.\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eYou will need to implement a \u003ckbd\u003ewait_queue\u003c/kbd\u003e data structure before implementing the functions above. The \u003ckbd\u003ethread.h\u003c/kbd\u003e file provides the interface for this data structure. Note that each thread can be in only one queue at a time (a run queue or any one wait queue).\u003c/p\u003e\n\u003cp\u003eWhen implementing \u003ckbd\u003ethread_sleep\u003c/kbd\u003e, it will help to think about the similarities and differences between this function and \u003ckbd\u003ethread_yield\u003c/kbd\u003e and \u003ckbd\u003ethread_exit\u003c/kbd\u003e. Make sure that \u003ckbd\u003ethread_sleep\u003c/kbd\u003esuspends (blocks) the current thread rather than spinning (running) in a tight loop. This would defeat the purpose of invoking \u003ckbd\u003ethread_sleep\u003c/kbd\u003e because the thread would still be using the CPU.\u003c/p\u003e\n\u003cp\u003eAll the thought that you put into ensuring that thread preemption works correctly previously will apply to these functions as well. In particular, these functions access shared data structures (which ones?), so be sure to enforce mutual exclusion.\u003c/p\u003e\n\u003cp\u003eGo ahead and implement these functions in your thread library in \u003ckbd\u003ethread.c\u003c/kbd\u003e.\u003c/p\u003e\n\u003cp\u003eAfter you implement the sleep and wakeup functions, you can test your code by running the \u003ckbd\u003etest_wakeup\u003c/kbd\u003e and the \u003ckbd\u003etest_wakeup_all\u003c/kbd\u003e programs. To check whether these programs worked correctly, you can run the following tester commands:\u003c/p\u003e\n\u003cpre\u003e    /cad2/ece344f/tester/scripts/lab3-02-wakeup.py\n    /cad2/ece344f/tester/scripts/lab3-03-wakeupall.py\n\u003c/pre\u003e\n\u003cp\u003eRecall that in the previous lab, you had implemented \u003ckbd\u003ethread_kill(tid)\u003c/kbd\u003e, which ensured that the target thread (whose identifier is \u003ckbd\u003etid\u003c/kbd\u003e) did not run any further, and this thread would eventually exit when it ran the next time. What should happen if a thread is sleeping and another thread invokes \u003ckbd\u003ethread_kill\u003c/kbd\u003e on it? Two options are possible:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe \u003ckbd\u003ethread_kill\u003c/kbd\u003e function does not wake up this thread. When some other thread wakes up this thread, then the thread exits when it runs the next time.\u003c/li\u003e\n\u003cli\u003eThe \u003ckbd\u003ethread_kill\u003c/kbd\u003e function wakes up this thread. Then the thread exits when it runs the next time.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe first option is easier since it requires no changes to your \u003ckbd\u003ethread_kill\u003c/kbd\u003e implementation. The second option will require you to implement a function that we will call \u003ckbd\u003evoid thread_awaken(Tid tid)\u003c/kbd\u003e. This function should wake up the thread with identifier \u003ckbd\u003etid\u003c/kbd\u003e. Note that this function does not take a wait queue as input, and so you will need to track the wait queue on which a thread is waiting. Our testing scripts will work with both implementations.\u003c/p\u003e\n\u003ch2\u003eWaiting for Threads to Exit\u003c/h2\u003e\n\u003cp\u003eNow that you have implemented the \u003ckbd\u003ethread_sleep\u003c/kbd\u003e and \u003ckbd\u003ethread_wakeup\u003c/kbd\u003e functions for suspending and waking up threads, you can use them to implement blocking synchronization primitives in your threads library. You should start by implementing the \u003ckbd\u003ethread_wait\u003c/kbd\u003e function, which will block or suspend a thread until a target thread terminates (or exits). Once the target thread exits, the thread that invokes \u003ckbd\u003ethread_wait\u003c/kbd\u003e should continue operation. As an example, this synchronization mechanism can be used to ensure that a program (using a master thread) exits only after all its worker threads have completed their operations.\u003c/p\u003e\n\u003cp\u003eThe \u003ckbd\u003ethread_wait\u003c/kbd\u003e function is summarized below:\u003c/p\u003e\n\u003cdl\u003e\n\u003cdt\u003e\u003cstrong\u003eint thread_wait(Tid tid):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eThis function suspends the calling thread until the thread whose identifier is tid terminates. A thread terminates when it invokes \u003ckbd\u003ethread_exit\u003c/kbd\u003e. Upon success, this function returns the identifier of the thread that exited. Upon failure, the calling thread continues running, and returns one of these constants:\n\u003cul\u003e\n\u003cli\u003e\u003ckbd\u003eTHREAD_INVALID:\u003c/kbd\u003e alerts the caller that the identifier tid does not correspond to a valid thread (e.g., any negative value of tid), or it is the current thread.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eYou will need to associate a \u003ckbd\u003ewait queue\u003c/kbd\u003e with each thread. When a thread invokes \u003ckbd\u003ethread_wait\u003c/kbd\u003e, it should sleep on the \u003ckbd\u003ewait queue\u003c/kbd\u003e of the target thread. When the target thread invokes exit, and is about to be destroyed, it should wake up the threads in its \u003ckbd\u003ewait queue\u003c/kbd\u003e.\u003c/p\u003e\n\u003cp\u003eWhile this functionality is relatively simple to implement, you will need to ensure that there are no races between \u003ckbd\u003ethread_wait\u003c/kbd\u003e and \u003ckbd\u003ethread_exit\u003c/kbd\u003e. How will you do that?\u003c/p\u003e\n\u003cp\u003eOne issue with implementing \u003ckbd\u003ethread_wait\u003c/kbd\u003e is that a deadlock may occur. For example, if Thread A waits on Thread B, and then Thread B waits on Thread A, then both threads will deadlock. We do not expect you to handle this condition for the lab, but it will be helpful to think about how would implement \u003ckbd\u003ethread_wait\u003c/kbd\u003e to avoid any deadlocks.\u003c/p\u003e\n\u003cp\u003eGo ahead and implement \u003ckbd\u003ethread_wait\u003c/kbd\u003e in your thread library and update any other relevant functions. After you implement this functionality, you can test your code by running the \u003ckbd\u003etest_wait\u003c/kbd\u003e, \u003ckbd\u003etest_wait_kill\u003c/kbd\u003e and the \u003ckbd\u003etest_wait_parent\u003c/kbd\u003eprograms. To check whether these programs worked correctly, you can run the following tester command:\u003c/p\u003e\n\u003cpre\u003e    /cad2/ece344f/tester/scripts/lab3-04-wait.py\n\u003c/pre\u003e\n\u003ch2\u003eMutex Locks and Condition Variables\u003c/h2\u003e\n\u003cp\u003eNow you are ready to implement mutual exclusion and synchronization primitives in your threads library. Recall that these primitives form the basis for managing concurrency, which is a core concern for operating systems, so your library would not really be complete without them.\u003c/p\u003e\n\u003cp\u003eFor mutual exclusion, you will implement blocking locks, and for synchronization, you will implement condition variables.\u003c/p\u003e\n\u003cp\u003eThe API for the lock functions are described below:\u003c/p\u003e\n\u003cdl\u003e\n\u003cdt\u003e\u003cstrong\u003estruct lock *lock_create():\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eCreate a blocking lock. Initially, the lock should be available. Your code should associate a wait queue with the lock so that threads that need to acquire the lock can wait in this queue.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid lock_destroy(struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eDestroy the lock. Be sure to check that the lock is available when it is being destroyed.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid lock_acquire(struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eAcquire the lock. Threads should be suspended until they can acquire the lock, after which this function should return.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid lock_release(struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eRelease the lock. Be sure to check that the lock had been acquired by the calling thread, before it is released. Wake up all threads that are waiting to acquire the lock.\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eThe API for the condition variable functions are described below:\u003c/p\u003e\n\u003cdl\u003e\n\u003cdt\u003e\u003cstrong\u003estruct cv *cv_create():\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eCreate a condition variable. Your code should associate a wait queue with the condition variable so that threads can wait in this queue.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid cv_destroy(struct cv *cv):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eDestroy the condition variable. Be sure to check that no threads are waiting on the condition variable.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid cv_wait(struct cv *cv, struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eSuspend the calling thread on the condition variable \u003ckbd\u003ecv\u003c/kbd\u003e. Be sure to check that the calling thread had acquired \u003ckbd\u003elock\u003c/kbd\u003e when this call is made. You will need to release the lock before waiting, and reacquire it before returning from this function.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid cv_signal(struct cv *cv, struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eWake up one thread that is waiting on the condition variable \u003ckbd\u003ecv\u003c/kbd\u003e. Be sure to check that the calling thread had acquired \u003ckbd\u003elock\u003c/kbd\u003e when this call is made.\u003c/dd\u003e\n\u003cdt\u003e\u003cstrong\u003e\u003c/strong\u003e\u003c/dt\u003e\n\u003cdt\u003e\u003cstrong\u003evoid cv_broadcast(struct cv *cv, struct lock *lock):\u003c/strong\u003e\u003c/dt\u003e\n\u003cdd\u003eWake up all threads that are waiting on the condition variable \u003ckbd\u003ecv\u003c/kbd\u003e. Be sure to check that the calling thread had acquired \u003ckbd\u003elock\u003c/kbd\u003e when this call is made.\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eThe \u003ckbd\u003elock_acquire\u003c/kbd\u003e, \u003ckbd\u003elock_release\u003c/kbd\u003e functions, and the \u003ckbd\u003ecv_wait\u003c/kbd\u003e, \u003ckbd\u003ecv_signal\u003c/kbd\u003e and \u003ckbd\u003ecv_broadcast\u003c/kbd\u003e functions access shared data structures (which ones?), so be sure to enforce mutual exclusion.\u003c/p\u003e\n\u003cp\u003eGo ahead and implement these functions in your thread library in \u003ckbd\u003ethread.c\u003c/kbd\u003e.\u003c/p\u003e\n\u003cp\u003eAfter you implement these functions, you can test your code by running the \u003ckbd\u003etest_lock\u003c/kbd\u003e and the \u003ckbd\u003etest_cv\u003c/kbd\u003e programs. To check whether these programs worked correctly, you can run the following tester commands:\u003c/p\u003e\n\u003cpre\u003e    /cad2/ece344f/tester/scripts/lab3-05-lock.py\n    /cad2/ece344f/tester/scripts/lab3-06-cv-signal.py\n    /cad2/ece344f/tester/scripts/lab3-07-cv-broadcast.py    \n\u003c/pre\u003e\n\u003ch2\u003eHints and Advice\u003c/h2\u003e\n\u003cp\u003eYou are encouraged to reuse \u003ci\u003eyour own\u003c/i\u003e code that you might have developed in the first lab or in previous courses for common data structures and operations such as queues, sorting, etc.\u003c/p\u003e\n\u003cp\u003eYou may \u003cstrong\u003enot\u003c/strong\u003e use code that subsumes the heart of this project (e.g., you should not base your solution on wrappers of or code taken from the POSIX thread library). If in doubt, ask.\u003c/p\u003e\n\u003cp\u003eThis project does not require you to write a large number of lines of code. It does require you to think carefully about the code you write. Before you dive into writing code, it will pay to spend time planning and understanding the code you are going to write. If you think the problem through from beginning to end, this project will not be too hard. If you try to hack your way out of trouble, you will spend many frustrating nights in the lab. This project's main difficulty is in conceptualizing the solution. Once you overcome that hurdle, you will be surprised at the simplicity of the implementation!\u003c/p\u003e\n\u003cp\u003eAll the \u003ca href=\"https://www.eecg.utoronto.ca/~ashvin/courses/ece344/current/lab2.html#advice\"\u003ehints and advice\u003c/a\u003e from Lab 2 apply here as well.\u003c/p\u003e\n\u003ch2\u003eFrequently Asked Questions\u003c/h2\u003e\n\u003cp\u003eWe have provided answers to various \u003ca title=\"FAQ: Labs\" href=\"https://q.utoronto.ca/courses/238659/pages/faq-labs\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/faq-labs\" data-api-returntype=\"Page\"\u003efrequently asked questions (FAQ)\u003c/a\u003e about the lab. Make sure to go over them. We have provided answers to many questions that students have asked in previous years, so you will save time by going over these answers as you start working on the lab.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eStart early, we mean it!\u003c/em\u003e\u003c/p\u003e\n\u003ch2\u003eTesting Your Code\u003c/h2\u003e\n\u003cp\u003eYou can test your entire code by using our auto-tester program at any time by following the \u003ca title=\"Testing your lab code\" href=\"https://q.utoronto.ca/courses/238659/pages/testing-your-lab-code\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/testing-your-lab-code\" data-api-returntype=\"Page\"\u003etesting instructions\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"using-git\"\u003eUsing Git\u003c/h2\u003e\n\u003cp\u003eYou should only modify the following files in this lab.\u003c/p\u003e\n\u003cpre\u003ethread.c\n\u003c/pre\u003e\n\u003cp\u003eYou can find the files you have modified by running the \u003ckbd\u003egit status\u003c/kbd\u003e command.\u003c/p\u003e\n\u003cp\u003eYou can commit your modified files to your local repository as follows:\u003c/p\u003e\n\u003cpre\u003egit add thread.c\ngit commit -m \"Committing changes for Lab 3\"\n\u003c/pre\u003e\n\u003cp\u003eWe suggest committing your changes frequently by rerunning the commands above (with different meaningful messages to the commit command), so that you can go back to see the changes you have made over time, if needed.\u003c/p\u003e\n\u003cp\u003eOnce you have tested your code, \u003cstrong\u003eand committed it\u003c/strong\u003e (check that by running \u003ckbd\u003egit status\u003c/kbd\u003e), you can tag the assignment as done.\u003c/p\u003e\n\u003cpre\u003egit tag Lab3-end\n\u003c/pre\u003e\n\u003cp\u003eThis tag names the last commit, and you can see that using the \u003ckbd\u003egit log\u003c/kbd\u003e or the \u003ckbd\u003egit show\u003c/kbd\u003e commands.\u003c/p\u003e\n\u003cp\u003eIf you want to see all the changes you have made in this lab, you can run the following \u003ckbd\u003egit diff\u003c/kbd\u003e command.\u003c/p\u003e\n\u003cpre\u003egit diff Lab3-start Lab3-end\n\u003c/pre\u003e\n\u003cp\u003eMore information for using the various git commands is available in the \u003ca title=\"Lab 1: Review of C, Data Structures, Using System Calls\" href=\"https://q.utoronto.ca/courses/238659/pages/lab-1-review-of-c-data-structures-using-system-calls#using-git\" target=\"_blank\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/lab-1-review-of-c-data-structures-using-system-calls%23using-git\" data-api-returntype=\"Page\"\u003eLab 1 instructions\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eCode Submission\u003c/h2\u003e\n\u003cp\u003eMake sure to add the \u003ckbd\u003eLab3-end\u003c/kbd\u003e tag to your local repository as described above. Then run the following command to update your remote repository:\u003c/p\u003e\n\u003cpre\u003egit push\ngit push --tags\n\u003c/pre\u003e\n\u003cp\u003eFor more details regarding code submission, please follow the \u003ca title=\"Submitting Lab Code\" href=\"https://q.utoronto.ca/courses/238659/pages/submitting-lab-code\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/submitting-lab-code\" data-api-returntype=\"Page\"\u003elab submission instructions\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003ePlease also make sure to test whether your submission succeeded by simulating our \u003ca title=\"Testing your lab code\" href=\"https://q.utoronto.ca/courses/238659/pages/testing-your-lab-code\" data-api-endpoint=\"https://q.utoronto.ca/api/v1/courses/238659/pages/testing-your-lab-code\" data-api-returntype=\"Page\"\u003eautomated marker\u003c/a\u003e.\u003c/p\u003e"},"WIKI_PAGE_REVISION":"2","WIKI_PAGE_SHOW_PATH":"/courses/238659/pages/lab-3-a-preemptive-user-level-thread-package","WIKI_PAGE_EDIT_PATH":"/courses/238659/pages/lab-3-a-preemptive-user-level-thread-package/edit","WIKI_PAGE_HISTORY_PATH":"/courses/238659/pages/lab-3-a-preemptive-user-level-thread-package/revisions","COURSE_ID":"238659","MODULES_PATH":"/courses/238659/modules","wiki_page_menu_tools":[],"wiki_index_menu_tools":[],"DISPLAY_SHOW_ALL_LINK":false,"CAN_SET_TODO_DATE":false,"TITLE_AVAILABILITY_PATH":"/api/v1/courses/238659/page_title_availability","badge_counts":{"submissions":0},"notices":[],"active_context_tab":"pages"};
    BRANDABLE_CSS_HANDLEBARS_INDEX = [["new_styles_normal_contrast","new_styles_high_contrast","new_styles_normal_contrast_rtl","new_styles_high_contrast_rtl"],{"10":["8300658022",0,"250b5824c2",2],"15":["fc26aa5fd4",0,"f904416063",2],"19":["df5777ed9c"],"61":["f3934dab06","f405852bb2","ee5810890b","3fd9943b9a"],"67":["8b57f54e71",0,"43833dde85",2],"71":["35b89b103a","4304be7d41","58dbfc2651","2932678b1c"],"06":["cb9f63cba6",0,"2be010fc14",2],"f0":["7c947dce20",0,0,0],"c8":["12d5e4d1e8","9f7b02d283","4ebd280f3e","b547456f4c"],"1e":["02e336724a","d7bb142b0a","d7ac7fdfb8","c03b9b261e"],"b3":["8ebc71ebc3","cf8efa05c8","4efdc93a21","fd6d3a9780"],"0c":["c26e82abac",0,"b71e9cbd6d",2],"da":["efb9fe6d7c","edbd1b5e83","a6dc56afb7","dfb2d13098"],"1d":["a3bfcb7961",0,"90682b3bbe",2],"08":["64bff5a97d"],"e2":["11429f119a"],"9f":["35936a18c3",0,0,0],"2b":["abf63f48ef","bf8e135ffe","378e0c136b","9833e305e6"],"2c":["6d919206cd",0,0,0],"c2":["6f2721ae01"],"9c":["ecafc938e4",0,"59e7c22304",2],"c5":["ebf0e1382f","7f587d9a8a","afbdabf23d","0d398196a8"],"f2":["51574f9b13"]}]
;
  </script>

  <link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/0976b3638d0604c8fdc3c2118e22f3cf/variables-7dd4b80918af0e0218ec0229e4bd5873.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/New_York-692f7d27e4.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/New_York-692f7d27e4.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/timezone/en_CA-21c9309bc0.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/moment/locale/en-ca-c-67f48e9f2d.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/main-e-4723ea22a5.js" as="script" type="text/javascript" crossorigin="anonymous"><script>
//<![CDATA[

      ;["https://du11hjcvx0uqb.cloudfront.net/dist/brandable_css/0976b3638d0604c8fdc3c2118e22f3cf/variables-7dd4b80918af0e0218ec0229e4bd5873.js", "https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/New_York-692f7d27e4.js", "https://du11hjcvx0uqb.cloudfront.net/dist/timezone/America/New_York-692f7d27e4.js", "https://du11hjcvx0uqb.cloudfront.net/dist/timezone/en_CA-21c9309bc0.js", "https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/moment/locale/en-ca-c-67f48e9f2d.js"].forEach(function(src) {
        var s = document.createElement('script'); s.src = src; s.async = false;
        document.head.appendChild(s)
      });
//]]>
</script><script>
//<![CDATA[

      ;["https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/main-e-4723ea22a5.js"].forEach(function(src) {
        var s = document.createElement('script'); s.src = src; s.async = false; s.crossOrigin = 'anonymous';
        document.head.appendChild(s)
      });
//]]>
</script><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/wiki_page_show-c-4bd34300a3.js" as="script" type="text/javascript"><link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/navigation_header-c-db122ba197.js" as="script" type="text/javascript"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('wiki_page_show');
(window.bundles || (window.bundles = [])).push('navigation_header');
//]]>
</script>
  <title>Lab 3: A Preemptive, User-Level Thread Package: ECE344H1 F LEC0101 20219:Operating Systems</title>




</head>

<body class="with-left-side course-menu-expanded padless-content pages primary-nav-expanded full-width context-course_238659 responsive_student_grades_page">

<noscript>
  <div role="alert" class="ic-flash-static ic-flash-error">
    <div class="ic-flash__icon" aria-hidden="true">
      <i class="icon-warning"></i>
    </div>
    <h1>You need to have JavaScript enabled in order to access this site.</h1>
  </div>
</noscript>




<div id="flash_message_holder"></div>
<div id="flash_screenreader_holder"></div>

<div id="application" class="ic-app">
  



<header id="mobile-header" class="no-print">
  <button type="button" class="Button Button--icon-action-rev Button--large mobile-header-hamburger">
    <i class="icon-solid icon-hamburger"></i>
    <span id="mobileHeaderInboxUnreadBadge" class="menu-item__badge" style="min-width: 0; top: 12px; height: 12px; right: 6px; display:none;"></span>
    <span class="screenreader-only">Dashboard</span>
  </button>
  <div class="mobile-header-space"></div>
    <a class="mobile-header-title expandable" href="/courses/238659" role="button" aria-controls="mobileContextNavContainer">
      <div>ECE344H1 F LEC0101</div>
        <div>Lab 3: A Preemptive, User-Level Thread Package</div>
    </a>
    <div id="immersive_reader_mobile_mount_point"></div>
    <div class="mobile-header-space"></div>
    <button type="button" class="Button Button--icon-action-rev Button--large mobile-header-arrow" aria-label="Navigation Menu">
      <i class="icon-arrow-open-down" id="mobileHeaderArrowIcon"></i>
    </button>
</header>
<nav id="mobileContextNavContainer"></nav>

<header id="header" class="ic-app-header no-print ">
  <a href="#content" id="skip_navigation_link">Skip To Content</a>
  <div role="region" class="ic-app-header__main-navigation" aria-label="Global Navigation">
      <div class="ic-app-header__logomark-container">
        <a href="https://q.utoronto.ca/" class="ic-app-header__logomark">
          <span class="screenreader-only">Dashboard</span>
        </a>
      </div>
    <ul id="menu" class="ic-app-header__menu-list">
        <li class="menu-item ic-app-header__menu-list-item ">
          <a id="global_nav_profile_link" role="button" href="/profile/settings" class="ic-app-header__menu-list-link">
            <div class="menu-item-icon-container">
              <div aria-hidden="true" class="fs-exclude ic-avatar ">
                <img src="https://q.utoronto.ca/images/thumbnails/24252802/49w46JOhPyJJXYU3xUiBG9eUG1LciFpubMN3YR4t" alt="Yuhe Chen" />
              </div>
              <span class="menu-item__badge"></span>
            </div>
            <div class="menu-item__text">
              Account
            </div>
          </a>
        </li>
      <li class="ic-app-header__menu-list-item ">
        <a id="global_nav_dashboard_link" href="https://q.utoronto.ca/" class="ic-app-header__menu-list-link">
          <div class="menu-item-icon-container" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--dashboard" version="1.1" x="0" y="0" viewBox="0 0 280 200" enable-background="new 0 0 280 200" xml:space="preserve"><path d="M273.09,180.75H197.47V164.47h62.62A122.16,122.16,0,1,0,17.85,142a124,124,0,0,0,2,22.51H90.18v16.29H6.89l-1.5-6.22A138.51,138.51,0,0,1,1.57,142C1.57,65.64,63.67,3.53,140,3.53S278.43,65.64,278.43,142a137.67,137.67,0,0,1-3.84,32.57ZM66.49,87.63,50.24,71.38,61.75,59.86,78,76.12Zm147,0L202,76.12l16.25-16.25,11.51,11.51ZM131.85,53.82v-23h16.29v23Zm15.63,142.3a31.71,31.71,0,0,1-28-16.81c-6.4-12.08-15.73-72.29-17.54-84.25a8.15,8.15,0,0,1,13.58-7.2c8.88,8.21,53.48,49.72,59.88,61.81a31.61,31.61,0,0,1-27.9,46.45ZM121.81,116.2c4.17,24.56,9.23,50.21,12,55.49A15.35,15.35,0,1,0,161,157.3C158.18,152,139.79,133.44,121.81,116.2Z" /></svg>

          </div>
          <div class="menu-item__text">
            Dashboard
          </div>
        </a>
      </li>
        <li class="menu-item ic-app-header__menu-list-item ic-app-header__menu-list-item--active">
          <a id="global_nav_courses_link" role="button" href="/courses" class="ic-app-header__menu-list-link">
            <div class="menu-item-icon-container" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--courses" version="1.1" x="0" y="0" viewBox="0 0 280 259" enable-background="new 0 0 280 259" xml:space="preserve"><path d="M73.31,198c-11.93,0-22.22,8-24,18.73a26.67,26.67,0,0,0-.3,3.63v.3a22,22,0,0,0,5.44,14.65,22.47,22.47,0,0,0,17.22,8H200V228.19h-134V213.08H200V198Zm21-105.74h90.64V62H94.3ZM79.19,107.34V46.92H200v60.42Zm7.55,30.21V122.45H192.49v15.11ZM71.65,16.71A22.72,22.72,0,0,0,49,39.36V190.88a41.12,41.12,0,0,1,24.32-8h157V16.71ZM33.88,39.36A37.78,37.78,0,0,1,71.65,1.6H245.36V198H215.15v45.32h22.66V258.4H71.65a37.85,37.85,0,0,1-37.76-37.76Z"/></svg>

            </div>
            <div class="menu-item__text">
              Courses
            </div>
          </a>
        </li>
        <li class="menu-item ic-app-header__menu-list-item ">
          <a id="global_nav_groups_link" role="button" href="/groups" class="ic-app-header__menu-list-link">
            <div class="menu-item-icon-container" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--groups" viewBox="0 0 200 135"><path d="M134.5 129.4c0-1.1 0-19.8-6.2-31.1-4.5-8.5-16.4-12.4-35-19.2-1.7-.6-3.4-1.1-5.1-1.7v-8.5c5.6-5.1 8.5-12.4 8.5-20.3V29.4C96.6 13 83.6 0 67.2 0S37.9 13 37.9 29.4v19.2c0 7.3 3.4 14.7 8.5 20.3v8.5c-1.7.6-3.4 1.1-5.1 1.7-18.6 6.2-30.5 10.7-35 19.2C0 109.6 0 128.8 0 129.4c0 3.4 2.3 5.6 5.6 5.6h123.7c3.5 0 5.7-2.3 5.2-5.6zm-123.2-5.7c.6-5.6 1.7-14.7 3.4-19.8C17 98.8 30 94.3 43.5 89.8c2.8-1.1 5.6-2.3 9-3.4 2.3-.6 4-2.8 4-5.1V66.7c0-1.7-.6-3.4-1.7-4.5-4-3.4-6.2-8.5-6.2-13.6V29.4c0-10.2 7.9-18.1 18.1-18.1s18.1 7.9 18.1 18.1v19.2c0 5.1-2.3 10.2-6.2 13.6-1.1 1.1-1.7 2.8-1.7 4.5v14.7c0 2.3 1.7 4.5 4 5.1 2.8 1.1 6.2 2.3 9 3.4 13.6 5.1 26.6 9.6 28.8 14.1 2.8 5.1 4 13.6 4.5 19.8H11.3zM196 79.1c-2.8-6.2-11.3-9.6-22.6-13.6l-1.7-.6v-3.4c4.5-4 6.8-9.6 6.8-15.8V35c0-12.4-9.6-22-22-22s-22 10.2-22 22v10.7c0 6.2 2.3 11.9 6.8 15.8V65l-1.7.6c-7.3 2.8-13 4.5-16.9 7.3-1.7 1.1-2.3 2.8-2.3 5.1.6 1.7 1.7 3.4 3.4 4.5 7.9 4 12.4 7.3 14.1 10.7 2.3 4.5 4 10.2 5.1 18.1.6 2.3 2.8 4.5 5.6 4.5h45.8c3.4 0 5.6-2.8 5.6-5.1 0-3.9 0-24.3-4-31.6zm-42.9 25.4c-1.1-6.8-2.8-12.4-5.1-16.9-1.7-4-5.1-6.8-9.6-10.2 1.7-1.1 3.4-1.7 5.1-2.3l5.6-2.3c1.7-.6 3.4-2.8 3.4-5.1v-9.6c0-1.7-.6-3.4-2.3-4.5-2.8-1.7-4.5-5.1-4.5-8.5V34.5c0-6.2 4.5-10.7 10.7-10.7s10.7 5.1 10.7 10.7v10.7c0 3.4-1.7 6.2-4.5 8.5-1.1 1.1-2.3 2.8-2.3 4.5v10.2c0 2.3 1.1 4.5 3.4 5.1l5.6 2.3c6.8 2.3 15.3 5.6 16.4 7.9 1.7 2.8 2.8 12.4 2.8 20.9h-35.4z"/></svg>

            </div>
            <div class="menu-item__text">
              Groups
            </div>
          </a>
        </li>
      <li class="menu-item ic-app-header__menu-list-item ">
        <a id="global_nav_calendar_link" href="/calendar" class="ic-app-header__menu-list-link">
          <div class="menu-item-icon-container" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--calendar" version="1.1" x="0" y="0" viewBox="0 0 280 280" enable-background="new 0 0 280 280" xml:space="preserve"><path d="M197.07,213.38h16.31V197.07H197.07Zm-16.31,16.31V180.76h48.92v48.92Zm-48.92-16.31h16.31V197.07H131.85Zm-16.31,16.31V180.76h48.92v48.92ZM66.62,213.38H82.93V197.07H66.62ZM50.32,229.68V180.76H99.24v48.92Zm146.75-81.53h16.31V131.85H197.07Zm-16.31,16.31V115.54h48.92v48.92Zm-48.92-16.31h16.31V131.85H131.85Zm-16.31,16.31V115.54h48.92v48.92ZM66.62,148.15H82.93V131.85H66.62ZM50.32,164.46V115.54H99.24v48.92ZM34,262.29H246V82.93H34ZM246,66.62V42.16A8.17,8.17,0,0,0,237.84,34H213.38v8.15a8.15,8.15,0,1,1-16.31,0V34H82.93v8.15a8.15,8.15,0,0,1-16.31,0V34H42.16A8.17,8.17,0,0,0,34,42.16V66.62Zm-8.15-48.92a24.49,24.49,0,0,1,24.46,24.46V278.6H17.71V42.16A24.49,24.49,0,0,1,42.16,17.71H66.62V9.55a8.15,8.15,0,0,1,16.31,0v8.15H197.07V9.55a8.15,8.15,0,1,1,16.31,0v8.15Z"/></svg>

          </div>
          <div class="menu-item__text">
            Calendar
          </div>
        </a>
      </li>
      <li class="menu-item ic-app-header__menu-list-item ">
        <a id="global_nav_conversations_link" href="/conversations" class="ic-app-header__menu-list-link">
          <div class="menu-item-icon-container">
            <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--inbox" version="1.1" x="0" y="0" viewBox="0 0 280 280" enable-background="new 0 0 280 280" xml:space="preserve"><path d="M91.72,120.75h96.56V104.65H91.72Zm0,48.28h80.47V152.94H91.72Zm0-96.56h80.47V56.37H91.72Zm160.94,34.88H228.52V10.78h-177v96.56H27.34A24.17,24.17,0,0,0,3.2,131.48V244.14a24.17,24.17,0,0,0,24.14,24.14H252.66a24.17,24.17,0,0,0,24.14-24.14V131.48A24.17,24.17,0,0,0,252.66,107.34Zm0,16.09a8.06,8.06,0,0,1,8,8v51.77l-32.19,19.31V123.44ZM67.58,203.91v-177H212.42v177ZM27.34,123.44H51.48v79.13L19.29,183.26V131.48A8.06,8.06,0,0,1,27.34,123.44ZM252.66,252.19H27.34a8.06,8.06,0,0,1-8-8V202l30,18H230.75l30-18v42.12A8.06,8.06,0,0,1,252.66,252.19Z"/></svg>
</span>
            <span class="menu-item__badge"></span>
          </div>
          <div class="menu-item__text">
            Inbox
          </div>
        </a>
      </li>
        <li class="menu-item ic-app-header__menu-list-item" >
          <a id="global_nav_history_link" role="button" href="#" class="ic-app-header__menu-list-link">
            <div class="menu-item-icon-container" aria-hidden="true">
              <svg viewBox="0 0 1920 1920" class="ic-icon-svg menu-item__icon svg-icon-history" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M960 112.941c-467.125 0-847.059 379.934-847.059 847.059 0 467.125 379.934 847.059 847.059 847.059 467.125 0 847.059-379.934 847.059-847.059 0-467.125-379.934-847.059-847.059-847.059M960 1920C430.645 1920 0 1489.355 0 960S430.645 0 960 0s960 430.645 960 960-430.645 960-960 960m417.905-575.955L903.552 988.28V395.34h112.941v536.47l429.177 321.77-67.765 90.465z" stroke="none" stroke-width="1" fill-rule="evenodd"/>
</svg>
            </div>
            <div class="menu-item__text">
              History
            </div>
          </a>
        </li>
        
    <li id="context_external_tool_2015_menu_item" class="globalNavExternalTool menu-item ic-app-header__menu-list-item">
      <a class='ic-app-header__menu-list-link' href="/accounts/1/external_tools/2015?launch_type=global_navigation">
          <img src="https://s3.amazonaws.com/canvas-utprd/Course_Evals.svg" alt="" />
        <div class="menu-item__text">
          Course Evals
        </div>
      </a>
    </li>

      <li class="ic-app-header__menu-list-item">
        <a id="global_nav_help_link" role="button" class="ic-app-header__menu-list-link" data-track-category="help system" data-track-label="help button" href="http://help.instructure.com/">
          <div class="menu-item-icon-container" role="presentation">
              <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg menu-item__icon svg-icon-help" version="1.1" x="0" y="0" viewBox="0 0 200 200" enable-background="new 0 0 200 200" xml:space="preserve" fill="currentColor"><path d="M100,127.88A11.15,11.15,0,1,0,111.16,139,11.16,11.16,0,0,0,100,127.88Zm8.82-88.08a33.19,33.19,0,0,1,23.5,23.5,33.54,33.54,0,0,1-24,41.23,3.4,3.4,0,0,0-2.74,3.15v9.06H94.42v-9.06a14.57,14.57,0,0,1,11.13-14,22.43,22.43,0,0,0,13.66-10.27,22.73,22.73,0,0,0,2.31-17.37A21.92,21.92,0,0,0,106,50.59a22.67,22.67,0,0,0-19.68,3.88,22.18,22.18,0,0,0-8.65,17.64H66.54a33.25,33.25,0,0,1,13-26.47A33.72,33.72,0,0,1,108.82,39.8ZM100,5.2A94.8,94.8,0,1,0,194.8,100,94.91,94.91,0,0,0,100,5.2m0,178.45A83.65,83.65,0,1,1,183.65,100,83.73,83.73,0,0,1,100,183.65" transform="translate(-5.2 -5.2)"/></svg>

            <span class="menu-item__badge"></span>
          </div>
          <div class="menu-item__text">
            Help
          </div>
</a>      </li>
    </ul>
  </div>
  <div class="ic-app-header__secondary-navigation">
    <ul class="ic-app-header__menu-list">
      <li class="menu-item ic-app-header__menu-list-item">
        <a
          id="primaryNavToggle"
          role="button"
          href="#"
          class="ic-app-header__menu-list-link ic-app-header__menu-list-link--nav-toggle"
          aria-label="Minimize global navigation"
          title="Minimize global navigation"
        >
          <div class="menu-item-icon-container" aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" class="ic-icon-svg ic-icon-svg--navtoggle" version="1.1" x="0" y="0" width="40" height="32" viewBox="0 0 40 32" xml:space="preserve">
  <path d="M39.5,30.28V2.48H37.18v27.8Zm-4.93-13.9L22.17,4,20.53,5.61l9.61,9.61H.5v2.31H30.14l-9.61,9.61,1.64,1.64Z"/>
</svg>

          </div>
        </a>
      </li>
    </ul>
  </div>
  <div id="global_nav_tray_container"></div>
  <div id="global_nav_tour"></div>
</header>


  <div id="instructure_ajax_error_box">
    <div style="text-align: right; background-color: #fff;"><a href="#" class="close_instructure_ajax_error_box_link">Close</a></div>
    <iframe id="instructure_ajax_error_result" src="about:blank" style="border: 0;" title="Error"></iframe>
  </div>

  <div id="wrapper" class="ic-Layout-wrapper">
      <div class="ic-app-nav-toggle-and-crumbs no-print">
          <button type="button" id="courseMenuToggle" class="Button Button--link ic-app-course-nav-toggle" aria-live="polite" aria-label="Hide Courses Navigation Menu">
            <i class="icon-hamburger" aria-hidden="true"></i>
          </button>

        <div class="ic-app-crumbs">
            <nav id="breadcrumbs" role="navigation" aria-label="breadcrumbs"><ul><li class="home"><a href="/"><span class="ellipsible"><i class="icon-home"
   title="My Dashboard">
  <span class="screenreader-only">My Dashboard</span>
</i>
</span></a></li><li><a href="/courses/238659"><span class="ellipsible">ECE344H1 F LEC0101</span></a></li><li><a href="/courses/238659/pages"><span class="ellipsible">Pages</span></a></li><li><span class="ellipsible">Lab 3: A Preemptive, User-Level Thread Package</span></li></ul></nav>
        </div>


        <div class="right-of-crumbs">
            <div class="TutorialToggleHolder"></div>
            <div id="immersive_reader_mount_point"></div>
        </div>

      </div>
    <div id="main" class="ic-Layout-columns">
        <div class="ic-Layout-watermark"></div>
        <div id="left-side"
          class="ic-app-course-menu ic-sticky-on list-view"
          style="display: block"
          >
          <div id="sticky-container" class="ic-sticky-frame">
              <span id="section-tabs-header-subtitle" class="ellipsis">2021 Fall</span>
            <nav role="navigation" aria-label="Courses Navigation Menu"><ul id="section-tabs"><li class="section"><a href="/courses/238659" class="home">Home</a></li><li class="section"><a href="/courses/238659/announcements" class="announcements">Announcements</a></li><li class="section"><a href="/courses/238659/grades" class="grades">Grades</a></li><li class="section"><a href="/courses/238659/quizzes" class="quizzes">Quizzes</a></li></ul></nav>
          </div>
        </div>
      <div id="not_right_side" class="ic-app-main-content">
        <div id="content-wrapper" class="ic-Layout-contentWrapper">
          
          <div id="content" class="ic-Layout-contentMain" role="main">
            

  

<div id="wiki_page_show"></div>
<div id="module_navigation_target"></div>

          </div>
        </div>
        <div id="right-side-wrapper" class="ic-app-main-content__secondary">
          <aside id="right-side" role="complementary">
            
          </aside>
        </div>
      </div>
    </div>
  </div>



    <div style="display:none;"><!-- Everything inside of this should always stay hidden -->
        <div id="page_view_id">82ffed36-6a63-4899-b6f4-84a27290a8ba</div>
    </div>
  <div id='aria_alerts' class='hide-text affix' role="alert" aria-live="assertive"></div>
  <div id='StudentTray__Container'></div>
    <div class="NewUserTutorialTray__Container"></div>
  <div id="react-router-portals"></div>
  

  <iframe src="https://sso.canvaslms.com/post_message_forwarding" name="post_message_forwarding" title="post_message_forwarding" id="post_message_forwarding" sandbox="allow-scripts allow-same-origin" style="display:none;"></iframe>


  <script>
    Object.assign(
      ENV,
      {}
    )
  </script>

<link rel="preload" href="https://du11hjcvx0uqb.cloudfront.net/dist/webpack-production/inst_fs_service_worker-c-7146c1678a.js" as="script" type="text/javascript"><script>
//<![CDATA[
(window.bundles || (window.bundles = [])).push('inst_fs_service_worker');
//]]>
</script>
  <script>
//<![CDATA[

      ;["https://instructure-uploads-yul.s3.ca-central-1.amazonaws.com/account_118340000000000001/attachments/24721051/UT_CustomJS_20210412-PRD-GTM.js"].forEach(function(src) {
        var s = document.createElement('script'); s.src = src; s.async = false;
        document.head.appendChild(s)
      });
//]]>
</script>

</div> <!-- #application -->
</body>
</html>
